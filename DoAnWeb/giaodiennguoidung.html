<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="giỏ hàng, khk restaurant" />
  <meta name="description" content="Trang giỏ hàng KHK Restaurant" />
  <meta name="author" content="" />
  <link rel="shortcut icon" href="images/favicon.png" type="">
  <title>Chi tiết người dùng | KHK Restaurant</title>

  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css"
    crossorigin="anonymous" />
  <link href="css/font-awesome.min.css" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />
  <style>
      body {
        background-color: #111;
        color: #fff;
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
      }

      header {
        background-color: #000;
        padding: 15px 30px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .user_option .user_link.active svg {
        fill: #f6b93b; /* màu vàng khi đang ở trang user*/
      }

      .logo a {
        color: #f6b93b;
        text-decoration: none;
        font-size: 22px;
        font-weight: bold;
      }

      .nav-links {
        display: flex;
        gap: 20px;
      }

      .nav-links a {
        color: #fff;
        text-decoration: none;
        transition: 0.3s;
      }

      .nav-links a:hover,
      .nav-links a.active {
        color: #f6b93b;
      }

      .profile-section {
        max-width: 900px;
        margin: 50px auto;
        padding: 20px;
        background: #1c1c1c;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
      }

      .profile-header {
        display: flex;
        align-items: center;
        gap: 20px;
        border-bottom: 1px solid #333;
        padding-bottom: 20px;
        margin-bottom: 20px;
      }

      .profile-header img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #f6b93b;
      }

      .profile-header h2 {
        font-size: 26px;
        color: #f6b93b;
        margin: 0;
      }

      .profile-info {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px 30px;
      }

      .profile-info label {
        display: block;
        color: #aaa;
        font-size: 14px;
        margin-bottom: 5px;
      }

      .profile-info input {
        width: 100%;
        padding: 10px;
        border-radius: 6px;
        border: none;
        background: #222;
        color: #fff;
        transition: 0.3s;
      }

      .profile-info input:focus {
        outline: 2px solid #f6b93b;
      }

      .edit-btn {
        display: inline-block;
        margin-top: 20px;
        background: #f6b93b;
        color: #000;
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: bold;
        border: none;
        cursor: pointer;
        transition: 0.3s;
      }

      .edit-btn:hover {
        background: #fff;
        color: #000;
      }

      .order-history {
        margin-top: 60px;
      }

      .order-history h3 {
        color: #f6b93b;
        font-size: 22px;
        border-bottom: 2px solid #333;
        padding-bottom: 10px;
        margin-bottom: 20px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background: #1a1a1a;
        border-radius: 10px;
        overflow: hidden;
      }

      th,
      td {
        padding: 14px 16px;
        text-align: left;
      }

      th {
        background: #222;
        color: #f6b93b;
      }

      tr:nth-child(even) {
        background: #181818;
      }

      tr:hover {
        background: #2a2a2a;
      }

      .status {
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 13px;
        font-weight: 600;
        text-transform: uppercase;
      }

      .status.done {
        background: #28a745;
        color: #fff;
      }

      .status.pending {
        background: #ffc107;
        color: #000;
      }

      .status.cancel {
        background: #dc3545;
        color: #fff;
      }

      /* ===== Popup chi tiết đơn hàng ===== */
      .modal {
        display: none;
        position: fixed;
        z-index: 200;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        justify-content: center;
        align-items: center;
      }

      .modal-content {
        background-color: #1c1c1c;
        padding: 20px 30px;
        border-radius: 10px;
        width: 400px;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        position: relative;
      }

      .modal-content h3 {
        color: #f6b93b;
        margin-top: 0;
      }

      .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        color: #fff;
        font-size: 20px;
        cursor: pointer;
      }

      .close-btn:hover {
        color: #f6b93b;
      }

      @media (max-width: 768px) {
        .profile-info {
          grid-template-columns: 1fr;
        }
      }
    </style>
</head>

<body class="sub_page">
  <div class="hero_area">
    <div class="bg-box">
      <img src="images/hero-bg.jpg" alt="">
    </div>
    
    <!-- header section starts -->
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="trangchu.html">
            <span>KHK Restaurant</span>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class=""> </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mx-auto">
              <li class="nav-item"><a class="nav-link" href="trangchu.html">Trang chủ</a></li>
              <li class="nav-item"><a class="nav-link" href="menu.html">Menu</a></li>
              <li class="nav-item"><a class="nav-link" href="about.html">Thông tin</a></li>
              <li class="nav-item"><a class="nav-link" href="book.html">Đặt bàn</a></li>
            </ul>
            <div class="user_option">
              <a href="giaodiennguoidung.html" class="user_link active"><i class="fa fa-user" aria-hidden="true"></i></a>
                        <a class="cart_link" href="cart.html">
            <!-- icon giỏ hàng -->
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 456.029 456.029">
              <path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248
               c0,29.184,23.552,53.248,53.248,53.248
               c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
              <path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304
               C104.448,27.566,84.992,10.67,61.952,10.67H20.48
               C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472
               c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
               c4.096,27.136,27.648,47.616,55.296,47.616h212.992
               c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
               C457.728,97.71,450.56,86.958,439.296,84.91z" />
              <path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688
               c-29.696,1.536-52.224,26.112-51.2,55.296
               c1.024,28.16,24.064,50.688,52.224,50.688h1.024
               C193.536,443.31,216.576,418.734,215.04,389.55z" />
            </svg>
          </a>
          
          <a href="menu.html" class="btn my-2 my-sm-0 nav_search-btn">
            <i class="fa fa-search" aria-hidden="true"></i>
          </a>
              <a href="login/index.html" class="order_online">Đăng nhập</a>
            </div>
          </div>
        </nav>
      </div>
    </header>
              <!-- ✅ Nút đăng nhập / hiển thị tên -->
              <a id="loginButton" href="login/index.html" class="order_online">Đăng nhập</a>
            </div>
          </div>
        </nav>
      </div>
    </header>
    
    <!-- Script kiểm tra đăng nhập -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const loginButton = document.getElementById("loginButton");
        const loggedInUser = localStorage.getItem("loggedInUser");
    
        if (loggedInUser) {
          // Hiển thị tên người dùng
          loginButton.textContent = loggedInUser;
          loginButton.href = "#"; // không dẫn đi đâu cả
    
          // Khi bấm vào tên => hỏi đăng xuất
          loginButton.addEventListener("click", (e) => {
            e.preventDefault();
            if (confirm("Bạn có muốn đăng xuất không?")) {
              localStorage.removeItem("loggedInUser");
              window.location.reload();
            }
          });
        } else {
          // Nếu chưa đăng nhập => đi đến trang login
          loginButton.addEventListener("click", () => {
            window.location.href = "login/index.html";
          });
        }
      });
    </script>
    
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const loginLink = document.querySelector(".order_online");
        const username = localStorage.getItem("username");
    
        if (loginLink && username) {
          // Nếu đã đăng nhập → đổi chữ "Đăng nhập" thành username
          loginLink.textContent = username;
          loginLink.href = "#";
    
          // Thêm chức năng đăng xuất
          loginLink.addEventListener("click", function(e) {
            e.preventDefault();
            if (confirm("Bạn có muốn đăng xuất không?")) {
              localStorage.removeItem("username");
              location.reload();
            }
          });
        }
      });
    </script>
    <!-- end header section -->
  </div>
    <main>
      <section class="profile-section">
        <div class="profile-header">
          <img src="https://i.pravatar.cc/100" alt="avatar" />
          <div>
            <h2>Nguyễn Văn A</h2>
            <p>Thành viên từ: 23/12/2023</p>
          </div>
        </div>

        <div class="profile-info">
          <div>
            <label>Họ và tên</label>
            <input type="text" id="name" value="Nguyễn Văn A" disabled />
          </div>
          <div>
            <label>Email</label>
            <input type="email" id="email" value="vana@example.com" disabled />
          </div>
          <div>
            <label>Số điện thoại</label>
            <input type="text" id="phone" value="0901234567" disabled />
          </div>
          <div>
            <label>Địa chỉ</label>
            <input
              type="text"
              id="address"
              value="123 Nguyễn Huệ, Q1, TP.HCM"
              disabled
            />
          </div>
        </div>

        <button class="edit-btn" id="editBtn">Chỉnh sửa thông tin</button>

        <div class="order-history">
          <h3>Lịch sử mua hàng</h3>
          <table>
            <thead>
              <tr>
                <th>Mã đơn</th>
                <th>Ngày đặt</th>
                <th>Tổng tiền</th>
                <th>Trạng thái</th>
                <th>Thao tác</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>#DH001</td>
                <td>15/10/2025</td>
                <td>235.000₫</td>
                <td><span class="status done">Hoàn tất</span></td>
                <td>
                  <a
                    href="#"
                    class="view-detail"
                    data-id="1"
                    style="color: #f6b93b"
                    >Xem chi tiết</a
                  >
                </td>
              </tr>
              <tr>
                <td>#DH002</td>
                <td>09/10/2025</td>
                <td>185.000₫</td>
                <td><span class="status pending">Đang giao</span></td>
                <td>
                  <a
                    href="#"
                    class="view-detail"
                    data-id="2"
                    style="color: #f6b93b"
                    >Xem chi tiết</a
                  >
                </td>
              </tr>
              <tr>
                <td>#DH003</td>
                <td>05/10/2025</td>
                <td>150.000₫</td>
                <td><span class="status cancel">Đã hủy</span></td>
                <td>
                  <a
                    href="#"
                    class="view-detail"
                    data-id="3"
                    style="color: #f6b93b"
                    >Xem chi tiết</a
                  >
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <!-- Popup xem chi tiết -->
    <div class="modal" id="orderModal">
      <div class="modal-content">
        <span class="close-btn" id="closeModal">&times;</span>
        <h3>Chi tiết đơn hàng</h3>
        <p><strong>Mã đơn:</strong> <span id="modalOrderId"></span></p>
        <p><strong>Ngày đặt:</strong> <span id="modalOrderDate"></span></p>
        <p><strong>Tổng tiền:</strong> <span id="modalOrderTotal"></span></p>
        <p><strong>Trạng thái:</strong> <span id="modalOrderStatus"></span></p>
        <p>
          <strong>Ghi chú:</strong> Cảm ơn bạn đã đặt món tại KHK Restaurant!
        </p>
      </div>
    </div>

    <script>
      const editBtn = document.getElementById("editBtn");
      const inputs = document.querySelectorAll(".profile-info input");
      let isEditing = false;

      editBtn.addEventListener("click", () => {
        isEditing = !isEditing;
        inputs.forEach((input) => (input.disabled = !isEditing));
        if (isEditing) {
          editBtn.textContent = "Lưu lại";
          editBtn.style.background = "#28a745";
          editBtn.style.color = "#fff";
        } else {
          editBtn.textContent = "Chỉnh sửa thông tin";
          editBtn.style.background = "#f6b93b";
          editBtn.style.color = "#000";
          alert("Thông tin đã được lưu thành công!");
        }
      });

      // ======= Dữ liệu giả cho đơn hàng =======
      const orders = {
        1: {
          id: "#DH001",
          date: "15/10/2025",
          total: "235.000₫",
          status: "Hoàn tất",
        },
        2: {
          id: "#DH002",
          date: "09/10/2025",
          total: "185.000₫",
          status: "Đang giao",
        },
        3: {
          id: "#DH003",
          date: "05/10/2025",
          total: "150.000₫",
          status: "Đã hủy",
        },
      };

      // ======= Mở popup khi bấm "Xem chi tiết" =======
      const modal = document.getElementById("orderModal");
      const closeModal = document.getElementById("closeModal");

      document.querySelectorAll(".view-detail").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          e.preventDefault();
          const id = btn.dataset.id;
          const order = orders[id];
          document.getElementById("modalOrderId").textContent = order.id;
          document.getElementById("modalOrderDate").textContent = order.date;
          document.getElementById("modalOrderTotal").textContent = order.total;
          document.getElementById("modalOrderStatus").textContent =
            order.status;
          modal.style.display = "flex";
        });
      });

      // ======= Đóng popup =======
      closeModal.addEventListener(
        "click",
        () => (modal.style.display = "none")
      );
      window.addEventListener("click", (e) => {
        if (e.target === modal) modal.style.display = "none";
      });
    </script>
  </body>
</html>
