<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-t" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="shortcut icon" href="images/favicon.png" type="">

  <title>KHK Restaurant</title>

  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css"
    integrity="sha512-CruCP+TD3yXzlvvijET8wV5WxxEh5H8P4cmz0RFbKK6FlZ2sYl3AEsKlLPHbniXKSrDdFewhbmBK5skbdsASbQ=="
    crossorigin="anonymous" />
  <link href="css/font-awesome.min.css" rel="stylesheet" />

  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />
  
  <style>
    /* ‚≠ê 1. CSS CHO DROPDOWN ƒêƒÇNG XU·∫§T (ƒê√É S·ª¨A L·ªñI GIAO DI·ªÜN) */
    .profile-dropdown {
        position: relative;
        display: inline-block;
        margin: 1 20px; /* S·ª≠a l·ªói ƒë√® icon */
        vertical-align: middle; /* S·ª≠a l·ªói cƒÉn ch·ªânh */
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #222;
        min-width: 150px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1001;
        right: 0;
        top: 100%;
        border-radius: 4px;
        border-top: 2px solid #ffbe33;
    }

    .logout-link {
        color: white;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        text-align: center;
    }

    .logout-link:hover {
        background-color: #444;
    }

    .profile-dropdown:hover .dropdown-content {
        display: block;
    }
  </style>
</head>

<body class="sub_page">

  <div class="hero_area">
    <div class="bg-box">
      <img src="images/hero-bg.jpg" alt="">
    </div>
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="trangchu.html">
            <span>KHK Restaurant</span>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class=""> </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav  mx-auto ">
              <li class="nav-item">
                <a class="nav-link" href="trangchu.html">Trang ch·ªß <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item"><a class="nav-link" href="menu.html">Menu</a></li>
              <li class="nav-item"><a class="nav-link" href="about.html">Th√¥ng tin</a></li>
              <li class="nav-item"><a class="nav-link" href="book.html">ƒê·∫∑t b√†n</a></li>
            </ul>

            <div class="user_option">
              <a href="giaodiennguoidung.html" class="user_link"><i class="fa fa-user" aria-hidden="true"></i></a>

              <a class="cart_link" href="cart.html">
                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 456.029 456.029">
                  <path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248
                    c0,29.184,23.552,53.248,53.248,53.248
                    c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
                  <path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304
                    C104.448,27.566,84.992,10.67,61.952,10.67H20.48
                    C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472
                    c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
                    c4.096,27.136,27.648,47.616,55.296,47.616h212.992
                    c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
                    C457.728,97.71,450.56,86.958,439.296,84.91z" />
                  <path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688
                    c-29.696,1.536-52.224,26.112-51.2,55.296
                    c1.024,28.16,24.064,50.688,52.224,50.688h1.024
                    C193.536,443.31,216.576,418.734,215.04,389.55z" />
                </svg>
              </a>

              <a href="menu.html" class="btn my-2 my-sm-0 nav_search-btn">
                <i class="fa fa-search" aria-hidden="true"></i>
              </a>

              <div class="profile-dropdown">
                <a id="loginButton" href="giaodiennguoidung.html" class="order_online">Nguy·ªÖn VƒÉn T√®o</a>
                <div class="dropdown-content">
                    <a href="index.html" class="logout-link">ƒêƒÉng xu·∫•t</a>
                </div>
              </div>
              </div>
          </div>
        </nav>
      </div>
    </header>

    </div>

  <section class="product_detail_section layout_padding">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="img_container">
            <div class="main_img mb-3">
              <img id="mainImage" src="" alt="ƒêang t·∫£i..." class="img-fluid rounded shadow">
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="detail-box">
            <h2 class="product_name">ƒêang t·∫£i...</h2>
            <div class="rating mb-2">
              ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê <span class="text-muted">(... ƒë√°nh gi√°)</span>
            </div>
            <h3 class="product_price text-danger mb-3">
              ...‚Ç´
            </h3>
            <p class="product_desc">
              ƒêang t·∫£i...
            </p>
            
            <div class="mb-3">
              <label for="quantity" class="font-weight-bold">S·ªë l∆∞·ª£ng:</label>
              <div class="input-group" style="width: 120px;">
                <button class="btn btn-outline-secondary" type="button" onclick="decrease()">-</button>
                <input id="quantity" type="text" class="form-control text-center" value="1">
                <button class="btn btn-outline-secondary" type="button" onclick="increase()">+</button>
              </div>
            </div>

            <div class="btn-box mt-3">
              <button class="btn btn-primary btn-lg add-to-cart-btn" onclick="showAddedAlert(event)">
                <i class="fa fa-shopping-cart"></i> Th√™m v√†o gi·ªè
              </button>
              </div>

            <div class="mt-4 p-3 bg-light rounded">
              <h5 class="mb-2">üéÅ ∆Øu ƒë√£i ƒë·∫∑c bi·ªát</h5>
              <ul class="list-unstyled ml-3">
                <li>‚úî T·∫∑ng k√®m n∆∞·ªõc ng·ªçt khi mua combo 2 b√°nh</li>
                <li>‚úî Gi·∫£m 10% cho ƒë∆°n h√†ng ƒë·∫ßu ti√™n</li>
                <li>‚úî Giao h√†ng mi·ªÖn ph√≠ trong b√°n k√≠nh 5km</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-5">
        <div class="col-12">
          <div class="detail-info bg-white p-4 rounded shadow-sm">
            <h4>M√¥ t·∫£ chi ti·∫øt s·∫£n ph·∫©m</h4>
            <p>ƒêang t·∫£i...</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="js/product.js"></script> 
  <script src="js/product-data.js"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="js/bootstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="https://unpkg.com/isotope-layout@3.0.4/dist/isotope.pkgd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
  
    <script>
      // --- H√ÄM POPUP "ƒê√É TH√äM TH√ÄNH C√îNG" ---
      function showAddedAlert(event) {
          event.preventDefault(); 
          alert("ƒê√£ th√™m th√†nh c√¥ng!");
      }
 
      // --- H√ÄM TƒÇNG GI·∫¢M S·ªê L∆Ø·ª¢NG (Gi·ªØ nguy√™n) ---
      function increase() {
          let quantityInput = document.getElementById('quantity');
          let currentVal = parseInt(quantityInput.value);
          if (isNaN(currentVal)) currentVal = 0; // ƒê·ªÅ ph√≤ng l·ªói NaN
          quantityInput.value = currentVal + 1;
      }
 
      function decrease() {
          let quantityInput = document.getElementById('quantity');
          let currentVal = parseInt(quantityInput.value);
          if (isNaN(currentVal)) currentVal = 1; // ƒê·ªÅ ph√≤ng l·ªói NaN
          if (currentVal > 1) {
              quantityInput.value = currentVal - 1;
          }
      }
        
      // --- H√ÄM T·∫¢I D·ªÆ LI·ªÜU S·∫¢N PH·∫®M (Gi·ªØ nguy√™n) ---
      function loadProductDetails() {
          const urlParams = new URLSearchParams(window.location.search);
          const productId = urlParams.get('id');

          // Ki·ªÉm tra xem bi·∫øn allProducts c√≥ t·ªìn t·∫°i kh√¥ng (t·ª´ file product-data.js)
          if (typeof allProducts === 'undefined') {
              console.error("L·ªói: Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu s·∫£n ph·∫©m (allProducts).");
              return;
          }

          const product = allProducts[productId];

          if (product) {
              document.title = product.name + " - KHK Restaurant";
              document.querySelector('.product_name').textContent = product.name;
              document.querySelector('.product_price').innerHTML = `${product.price.toLocaleString('vi-VN')}‚Ç´`;
              document.querySelector('.product_desc').textContent = product.shortDesc;
              document.querySelector('.rating .text-muted').textContent = `(${product.ratingCount} ƒë√°nh gi√°)`;
              document.getElementById('mainImage').src = product.image;
              document.getElementById('mainImage').alt = product.name;

              // C·∫≠p nh·∫≠t m√¥ t·∫£ chi ti·∫øt
              const detailInfo = document.querySelector('.detail-info');
              detailInfo.innerHTML = '<h4>M√¥ t·∫£ chi ti·∫øt s·∫£n ph·∫©m</h4>'; 
              
              product.longDesc.forEach(paraText => {
                  const p = document.createElement('p');
                  p.textContent = paraText;
                  detailInfo.appendChild(p);
              });

          } else {
              // N·∫øu kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m
              document.querySelector('.product_detail_section .container').innerHTML = 
                  `<div class="text-center" style="padding: 50px 0;">
                      <h2>Oops! Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m</h2>
                      <p>S·∫£n ph·∫©m b·∫°n ƒëang t√¨m kh√¥ng t·ªìn t·∫°i. Vui l√≤ng quay l·∫°i trang menu.</p>
                      <a href="menu.html" class="btn btn-primary">V·ªÅ trang Menu</a>
                  </div>`;
          }
      }
 
      // --- KH·ªûI T·∫†O KHI T·∫¢I TRANG ---
      document.addEventListener('DOMContentLoaded', () => {
          // (Kh√¥ng c·∫ßn g·∫Øn s·ª± ki·ªán cho n√∫t "Th√™m v√†o gi·ªè" n·ªØa v√¨ ƒë√£ d√πng onclick)
          
          // T·∫£i d·ªØ li·ªáu s·∫£n ph·∫©m
          loadProductDetails();
          
          // (Kh√¥ng c·∫ßn updateCartCount v√¨ ch√∫ng ta kh√¥ng th√™m v√†o gi·ªè h√†ng th·∫≠t)
      });
    </script>
</body>

</html>